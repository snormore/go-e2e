name: Test

on:
  push:

jobs:
  run-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: go test ./... -v
  run-example:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: go tool go-e2e -v
        working-directory: example
      - run: go run ./cmd/go-e2e/main.go -test-dir=example -v
